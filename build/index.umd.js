!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@monaco-editor/react")):"function"==typeof define&&define.amd?define(["exports","react","@monaco-editor/react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).CodeEditor={},e.React,e.MonacoEditorReact)}(this,function(e,t,n){"use strict";var o=function(){return o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var r=function(e){var n=e.size,o=void 0===n?16:n,r=e.color,i=void 0===r?"#0078d4":r;return t.createElement("svg",{width:o,height:o,viewBox:"0 0 24 24",fill:i},t.createElement("path",{d:"M19 21H9c-1.1 0-2-.9-2-2V7h2v12h10v2zm-4-4H5V5h10v12z"}))},i=function(e){var n=e.size,o=void 0===n?16:n,r=e.color,i=void 0===r?"#28a745":r;return t.createElement("svg",{width:o,height:o,viewBox:"0 0 24 24",fill:i},t.createElement("path",{d:"M3 3h18v2H3V3zm0 16h18v2H3v-2zm0-8h18v2H3v-2z"}))};var a=function(e){var a,l,u,c,s=e.title,d=e.language,f=void 0===d?"json":d,v=e.value,m=e.options,p=e.readOnly,h=void 0!==p&&p,y=e.rawJson,g=void 0!==y&&y,b=e.style,E=e.getRefs,O=e.onChange,w=e.debounceMs,S=void 0===w?300:w,z=e.tabSize,C=void 0===z?4:z,x=e.theme,j=void 0===x?"vs-light":x,J=e.autoResize,M=void 0!==J&&J,N=e.labels,R=e.icons,H=e.showHeader,P=void 0===H||H,T=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["title","language","value","options","readOnly","rawJson","style","getRefs","onChange","debounceMs","tabSize","theme","autoResize","labels","icons","showHeader"]),k=t.useState(""),F=k[0],L=k[1],V=t.useState(300),q=V[0],A=V[1],B=t.useRef(null),D=(a=t.useRef(!1),t.useEffect(function(){return a.current=!0,function(){a.current=!1}},[]),t.useCallback(function(){return a.current},[])),I="json"===f.toLowerCase(),W=(l=function(e,t){return null==O?void 0:O(e,t)},u=S,c=t.useRef(null),t.useCallback(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.current&&clearTimeout(c.current),c.current=setTimeout(function(){l.apply(void 0,e)},u)},[l,u]));return t.useEffect(function(){D()&&L(function(e){if(!e)return"";if(I)try{return JSON.stringify(JSON.parse(e),null,C)}catch(t){return e}return e}(v))},[v,D,C]),t.createElement("div",{className:"editor-container",style:o({margin:"20px auto",maxWidth:1200,height:"".concat(M?q+(P?35:0):300+(P?35:0),"px"),borderRadius:10,overflow:"hidden"},b)},P&&t.createElement("div",{className:"editor-menu ".concat(h?"read-only":"")},t.createElement("span",null,s||"Json Editor"),t.createElement("div",{style:{marginLeft:"auto",display:"flex",gap:8}},t.createElement("button",{className:"editor-btn",onClick:function(){return navigator.clipboard.writeText(F)},title:(null==N?void 0:N.copy)||"Copy"},(null==R?void 0:R.copy)||t.createElement(r,{size:16,color:"#0078d4"}),t.createElement("span",null,(null==N?void 0:N.copy)||"Copy")),I&&t.createElement("button",{className:"editor-btn",onClick:function(){var e,t;return null===(t=null===(e=B.current)||void 0===e?void 0:e.getAction("editor.action.formatDocument"))||void 0===t?void 0:t.run()},title:(null==N?void 0:N.formatJson)||"Format JSON"},(null==R?void 0:R.formatJson)||t.createElement(i,{size:16,color:"#28a745"}),t.createElement("span",null,(null==N?void 0:N.formatJson)||"Format JSON")))),t.createElement("div",{className:"editor-wrapper"},t.createElement(n,o({theme:j,width:"100%",height:"100%",language:f,value:F,onChange:function(e){var t,n,o=e||"";if(L(o),o){if(I)try{JSON.parse(o),W(o,!1)}catch(e){W(g?o:void 0,!g)}else W(o,!1);if(M&&B.current){var r=(null===(n=(t=B.current).getContentHeight)||void 0===n?void 0:n.call(t))||18*o.split("\n").length+30;A(Math.max(100,Math.min(r,800)))}}else W("",!1)},options:o({cursorStyle:"line",formatOnPaste:!0,formatOnType:!0,renderLineHighlight:"none",wordWrap:"on",autoIndent:"full",readOnly:h||(null==m?void 0:m.readOnly),fontSize:14,tabSize:C,fontFamily:"Consolas, 'Courier New', monospace",minimap:{enabled:!1}},m),onMount:function(e){var t;B.current=e,null===(t=e.getAction("editor.action.formatDocument"))||void 0===t||t.run(),null==E||E(B)}},T))))};Object.defineProperty(e,"useMonaco",{enumerable:!0,get:function(){return n.useMonaco}}),e.CodeEditor=a,e.default=a,Object.defineProperty(e,"__esModule",{value:!0})});
